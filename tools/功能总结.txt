╔══════════════════════════════════════════════════════════════════════════╗
║        串口调试工具 V3 升级版 - 完整功能清单 (50+功能)                   ║
╚══════════════════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════════════════
🔌 串口连接配置 (5个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 波特率配置 (15选1)
│  └─ 300, 600, 1200, 2400, 4800, 9600, 14400, 19200, 28800,
│     38400, 57600, 115200⭐, 230400, 460800, 921600
│
├─ 数据位设置 (2选1)
│  └─ 7位, 8位⭐
│
├─ 校验位设置 (3选1)
│  └─ 无⭐, 偶校验, 奇校验
│
├─ 停止位设置 (2选1)
│  └─ 1位⭐, 2位
│
├─ 硬件流控 (2选1)
│  └─ 无⭐, 硬件流控
│
└─ 连接状态指示
   └─ 在线/离线指示灯 + 文字提示


═══════════════════════════════════════════════════════════════════════════
🖼️ 图像处理功能 (20个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 图像加载和预览 (2功能)
│  ├─ 本地图像文件选择
│  └─ 原始图像预览 (Canvas显示)
│
├─ 图像类型选择 (3选1)
│  ├─ 黑白 (B&W) ⭐
│  ├─ 红色 (Red)
│  └─ 黑白+红色 (B&W+Red)
│
├─ 缩放模式选择 (3选1)
│  ├─ 适配 (Fit) ⭐ - 保持宽高比无黑边
│  ├─ 填充 (Fill) - 保持宽高比有黑边
│  └─ 拉伸 (Stretch) - 完全拉伸可能变形
│
├─ 自定义尺寸 (2功能)
│  ├─ 图像宽度: 100-800px (默认400)
│  └─ 图像高度: 100-800px (默认300)
│
├─ 二值化处理 (2功能)
│  ├─ 启用/禁用复选框 ✓ 默认启用
│  └─ 阈值调整: 0-255 (默认128)
│     └─ > 阈值 → 白 (255)
│     └─ ≤ 阈值 → 黑 (0)
│
├─ 线稿提取 (1功能)
│  └─ Sobel边缘检测
│     └─ 用途: 提取轮廓和边缘
│
├─ 图像剪裁 (5功能)
│  ├─ 启用/禁用复选框
│  ├─ X偏移: 裁剪起始X坐标 (px)
│  ├─ Y偏移: 裁剪起始Y坐标 (px)
│  ├─ 裁剪宽度: 裁剪区域宽度 (px)
│  └─ 裁剪高度: 裁剪区域高度 (px)
│
├─ 反色处理 (1功能)
│  └─ 黑白反转 (黑↔白)
│
├─ 抖动处理 (1功能)
│  └─ Floyd-Steinberg抖动
│     └─ 用途: 增加灰度层次感
│
└─ 处理结果显示 (3功能)
   ├─ 处理后图像预览 (Canvas)
   ├─ 图像信息显示 (文件名/尺寸/大小/类型)
   └─ 一键应用处理


═══════════════════════════════════════════════════════════════════════════
📤 图像传输功能 (15个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 传输参数配置 (3功能)
│  ├─ 目标Slot ID: 0-7 (8个槽位)
│  ├─ 传输超时: 1000-10000ms (默认3000ms)
│  └─ 最大重试次数: 1-10 (默认5)
│
├─ 传输控制按钮 (3功能)
│  ├─ 开始传输
│  ├─ 停止传输
│  └─ 重置 (清除进度等)
│
├─ 传输进度显示 (2功能)
│  ├─ 绿色进度条 (0-100%)
│  └─ 百分比文字显示
│
├─ 传输统计信息 (6功能)
│  ├─ 已发送帧数 (XX/61)
│  ├─ 已确认帧数 (XX)
│  ├─ NAK计数 (XX)
│  ├─ 重试次数 (XX)
│  ├─ 传输时间 (X.XX秒)
│  └─ 传输速率 (XX.XX KB/s)
│
└─ 协议实现 (1功能)
   └─ 新协议V2完整支持
      ├─ 帧格式: [0x55][Type][Num_L][Num_H][ID][CRC32(4)][Data(248)][CS][0xAA]
      ├─ 控制帧: [0x55][Cmd][CS][0xAA]
      ├─ 响应帧: [0x55][AckType][Num_L][Num_H][CS][0xAA]
      ├─ CRC32校验
      ├─ 自动重试
      └─ 61帧分页


═══════════════════════════════════════════════════════════════════════════
📤 数据发送功能 (4个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 数据输入框
│  └─ 多行文本输入区域
│
├─ HEX格式发送 (1功能)
│  ├─ 输入格式: 55 01 56 AA (空格分隔)
│  └─ 一键发送到MCU
│
├─ 文本格式发送 (1功能)
│  ├─ 输入任意文本
│  └─ 转换后发送
│
└─ 发送状态显示 (1功能)
   └─ 成功/失败提示


═══════════════════════════════════════════════════════════════════════════
📥 数据接收功能 (4个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 接收数据显示 (2功能)
│  ├─ 多行只读文本区域
│  └─ 实时更新接收内容
│
├─ 字节计数 (1功能)
│  └─ 显示接收总字节数
│
└─ 接收数据管理 (2功能)
   ├─ 清空接收数据
   └─ 下载接收数据为文件


═══════════════════════════════════════════════════════════════════════════
🔧 高级设置功能 (15个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 显示选项 (5功能)
│  ├─ 显示时间戳 ✓ (默认启用)
│  ├─ 显示发送数据 (可控)
│  ├─ 显示接收数据 (可控)
│  ├─ 调试模式 (开/关)
│  └─ 自动滚动 ✓ (默认启用)
│
├─ 日志级别选择 (5选1)
│  ├─ 详细 (Verbose) - 显示所有
│  ├─ 调试 (Debug) - 调试+信息+警告+错误
│  ├─ 信息 (Info) ⭐ - 关键消息
│  ├─ 警告 (Warning) - 警告+错误
│  └─ 错误 (Error) - 仅错误
│
├─ 显示模式选择 (3选1)
│  ├─ 十六进制 (HEX): 55 01 56 AA
│  ├─ ASCII: 文本形式
│  └─ 混合 (Mixed): 同时显示两种
│
└─ 日志管理 (2功能)
   ├─ 清空日志
   └─ 下载日志为文件


═══════════════════════════════════════════════════════════════════════════
📋 调试日志功能 (5个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 日志输出 (2功能)
│  ├─ 多行只读文本区域
│  └─ 彩色图标标记 (❌⚠️✅🐛ℹ️)
│
├─ 日志统计 (1功能)
│  └─ 显示日志行数
│
└─ 日志管理 (2功能)
   ├─ 清空日志
   └─ 下载日志为文件


═══════════════════════════════════════════════════════════════════════════
💻 用户界面功能 (8个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 页面标题
│  └─ "串口调试工具 - 完整版 V3 (新协议V2)"
│
├─ 标签页设计 (3个标签)
│  ├─ 标签1: 图像处理
│  ├─ 标签2: 图像传输
│  └─ 标签3: 高级设置
│
├─ 面板分组 (6个独立面板)
│  ├─ 串口连接配置
│  ├─ 图像处理与传输
│  ├─ 数据发送
│  ├─ 数据接收
│  ├─ 调试日志
│  └─ 状态提示
│
├─ 现代UI设计
│  ├─ 紫色渐变配色
│  ├─ 圆角边框
│  ├─ 阴影效果
│  └─ 平滑过渡动画
│
└─ 响应式布局
   ├─ 网格布局 (auto-fit)
   ├─ 多尺寸屏幕适配
   ├─ 灵活的控件排列
   └─ 移动设备支持


═══════════════════════════════════════════════════════════════════════════
📊 状态和提示功能 (6个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 连接状态指示
│  ├─ 绿灯 "在线" = 已连接
│  └─ 红灯 "离线" = 未连接
│
├─ 状态消息框 (3种样式)
│  ├─ 蓝色 (信息)
│  ├─ 绿色 (成功)
│  ├─ 红色 (错误)
│  └─ 黄色 (警告)
│
└─ 实时反馈
   ├─ 操作提示
   ├─ 错误信息
   ├─ 进度更新
   └─ 统计信息


═══════════════════════════════════════════════════════════════════════════
⚡ 性能和优化功能 (4个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 传输速率计算
│  └─ 实时显示 KB/s
│
├─ 超时检测
│  └─ 可调超时处理
│
├─ 自动重试机制
│  └─ 可调重试策略
│
└─ 资源优化
   ├─ 实时日志过滤 (按级别)
   ├─ 选择性显示 (发送/接收)
   └─ 自动垃圾回收


═══════════════════════════════════════════════════════════════════════════
🔐 安全和验证功能 (3个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 数据验证
│  ├─ CRC32校验
│  └─ 帧校验和验证
│
├─ 错误处理
│  ├─ 自动重试
│  └─ NAK响应处理
│
└─ 通信控制
   ├─ 超时保护
   └─ 传输中断控制


═══════════════════════════════════════════════════════════════════════════
📁 文件管理功能 (4个功能)
═══════════════════════════════════════════════════════════════════════════

┌─ 接收数据导出
│  └─ 下载为 .txt 文件
│
├─ 日志导出
│  └─ 下载为 log_[时间].txt 文件
│
├─ 文件命名
│  └─ 自动添加时间戳
│
└─ 浏览器兼容
   └─ 自动调用下载对话框


═══════════════════════════════════════════════════════════════════════════
🎨 图像处理算法 (5个算法)
═══════════════════════════════════════════════════════════════════════════

┌─ 二值化 (Binarization)
│  ├─ 算法: 简单阈值比较
│  ├─ 公式: pixel > threshold ? 255 : 0
│  └─ 性能: O(n)
│
├─ Sobel边缘检测 (Line Extraction)
│  ├─ 算法: Sobel算子卷积
│  ├─ 公式: sqrt(Gx² + Gy²)
│  └─ 性能: O(n)
│
├─ Floyd-Steinberg抖动 (Dither)
│  ├─ 算法: 误差分散算法
│  ├─ 误差分配: 7/16, 3/16, 5/16, 1/16
│  └─ 性能: O(n)
│
├─ 图像缩放 (Scaling)
│  ├─ 模式: 适配/填充/拉伸
│  ├─ 方法: Canvas drawImage
│  └─ 性能: GPU加速
│
└─ 图像反色 (Invert)
   ├─ 算法: value = 255 - value
   └─ 性能: O(n)


═══════════════════════════════════════════════════════════════════════════
🔢 数值范围参考
═══════════════════════════════════════════════════════════════════════════

波特率:        300 ~ 921600 bps
图像尺寸:      100 ~ 800 px
二值化阈值:    0 ~ 255
传输超时:      1000 ~ 10000 ms
重试次数:      1 ~ 10 次
Slot ID:       0 ~ 7
帧数:          0 ~ 60 (共61帧)
单帧大小:      259 字节 (固定)
载荷大小:      248 字节 (固定)
总传输量:      61 × 259 = 15,799 字节


═══════════════════════════════════════════════════════════════════════════
✅ 功能统计
═══════════════════════════════════════════════════════════════════════════

主功能数量:       7 类
子功能总数:       50+ 功能
可调参数:         30+ 个
处理算法:         5 种
图像类型:         3 种
缩放模式:         3 种
日志级别:         5 个
显示模式:         3 个
波特率选项:       15 个
传输统计项:       6 项


═══════════════════════════════════════════════════════════════════════════
🎯 使用模式
═══════════════════════════════════════════════════════════════════════════

快速模式      (默认设置)          → 1分钟快速传输
工程模式      (调试参数)          → 专业设备调试
诊断模式      (详细日志)          → 故障排查分析
优化模式      (高波特率)          → 性能测试
兼容模式      (低波特率)          → 旧设备支持


═══════════════════════════════════════════════════════════════════════════
📈 性能指标
═══════════════════════════════════════════════════════════════════════════

启动时间:      < 2秒
传输速率:      > 10 KB/s @115200
内存占用:      < 50 MB
CPU占用:       < 30%
支持帧数:      61帧 (固定)
总容量:        15.8 KB
推荐速率:      115200 baud
最快速率:      921600 baud
最慢速率:      300 baud


═══════════════════════════════════════════════════════════════════════════
🌍 浏览器兼容性
═══════════════════════════════════════════════════════════════════════════

✅ Chrome 89+     完全支持
✅ Edge 89+       完全支持
✅ Opera 75+      完全支持
⚠️ Firefox 90+    部分支持 (Web Serial API)
❌ Safari         不支持 (Web Serial API)
❌ IE            不支持


═══════════════════════════════════════════════════════════════════════════
🎓 快速学习路径
═══════════════════════════════════════════════════════════════════════════

初级 (5分钟)
  └─ 学会基本传输

中级 (30分钟)
  ├─ 掌握图像处理
  └─ 学会参数调整

高级 (1小时)
  ├─ 掌握调试工具
  ├─ 学会性能优化
  └─ 能够故障排查

专家 (持续)
  ├─ 深入研究协议
  ├─ 二次开发
  └─ 贡献改进


═══════════════════════════════════════════════════════════════════════════
💡 最佳实践
═══════════════════════════════════════════════════════════════════════════

✓ 推荐配置保持默认
✓ 首次测试降低波特率
✓ 出现问题启用调试
✓ 定期下载和备份日志
✓ 使用剪裁功能优化速度
✓ 根据图像内容调整阈值
✓ 在稳定连接后提高波特率
✓ 文档中查找特定问题


═══════════════════════════════════════════════════════════════════════════
版本: V3 升级版 (新协议V2) | 发布: 2025-10-22 | 功能数: 50+
═══════════════════════════════════════════════════════════════════════════
