╔══════════════════════════════════════════════════════════════════════════╗
║           串口调试工具 V3 升级版 - 快速参考卡                             ║
╚══════════════════════════════════════════════════════════════════════════╝

🚀 30秒快速开始
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1. 选择波特率: 115200
2. 点击"连接"
3. 选择图像文件 → 预览
4. 点击"应用处理"
5. 点击"开始传输"
完成! 🎉


🔌 串口配置快速表
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
┌─ 推荐配置 (HC32L110C6UA 新协议V2)
│  波特率: 115200 ✓
│  数据位: 8 ✓
│  校验位: 无 (None) ✓
│  停止位: 1 ✓
│  流控: 无 ✓
│
├─ 备选配置 (通信质量差)
│  波特率: 57600
│  其他保持默认
│
└─ 低速设备配置
   波特率: 9600 或 19200
   其他保持默认


🎨 图像处理快速表
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
┌─ 文档/扫描件
│  ✓ 启用二值化 (阈值: 120-140)
│  ✓ 启用线稿提取
│  缩放模式: 适配
│
├─ 彩色照片
│  ✓ 启用二值化 (阈值: 100-150)
│  ✓ 启用抖动 (增加灰度层次)
│  缩放模式: 适配
│
├─ 手绘图/草图
│  ✓ 启用二值化 (阈值: 80-120)
│  ✓ 启用线稿提取
│  可选反色
│
└─ 需要特定区域
   ✓ 启用剪裁
   设置 X/Y 偏移和宽高


📊 图像类型选择
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
黑白 (B&W)
├─ 用途: 标准E-ink显示
├─ 兼容性: ✓ 最广泛
└─ 推荐: 一般使用

红色 (Red)
├─ 用途: 仅红色通道
├─ 兼容性: ✓ 支持三色屏
└─ 推荐: 需要突出信息时

黑白+红色 (B&W+Red)
├─ 用途: 完整三色
├─ 兼容性: ✓ 三色屏专用
└─ 推荐: 充分利用屏幕


⚡ 传输参数调整
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
参数 | 默认值 | 范围 | 调整建议
─────────────────────────────────────────────────────────────
超时 | 3000ms | 1-10s | 遇到超时 → 增加到5000ms
重试 | 5 次   | 1-10 | 环境差 → 增加到8-10次
Slot | 0      | 0-7  | 多图像 → 使用不同槽位


🐛 故障排查流程
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
问题                    检查列表                      解决方案
────────────────────────────────────────────────────────────
连接失败              □ MCU 已接电?             → 检查USB连接
                      □ 驱动程序?               → 安装CH340驱动
                      □ 端口号?                 → 确认COM口

传输一直失败          □ 波特率?                 → 试试57600
                      □ MCU固件?                → 检查是否上传新固件
                      □ 超时设置?               → 改为5000ms
                      □ 日志有ERROR?            → 启用调试模式

传输很慢              □ 波特率?                 → 改为115200
                      □ 重试太多?               → 检查NAK计数
                      □ 环境干扰?               → 使用屏蔽线

图像显示不对          □ 二值化阈值?             → 试试100-150
                      □ 线稿提取?               → 关闭试试
                      □ 图像类型?               → 换成黑白试试


🎯 日志级别选择
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
场景                  推荐级别              理由
────────────────────────────────────────────────────────────
正常使用              信息 (Info) ⭐       关键信息，不太冗长
深度调试              详细 (Verbose)       查看所有细节
故障诊断              调试 (Debug)         查看关键的数据流
生产环境              警告 (Warning)       仅显示问题
最小化输出            错误 (Error)         减少日志干扰


📋 显示模式对比
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
模式      | 输出示例           | 用途
────────────────────────────────────────────────────────────
十六进制  | 55 01 56 AA        | 调试协议
(HEX)     | 11 01 7A 12 ...    | 分析字节

ASCII     | U♠V«               | 文本显示
          |                    | (不推荐二进制)

混合      | 55 01 56 AA | U♠V« | 同时查看两种格式


✅ 传输成功标志
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
□ 进度条达到 100%
□ 状态显示 "✅ 传输完成!"
□ 已发送帧数: 61/61
□ NAK计数: 0 或很少 (≤2)
□ 日志无红色错误信息
□ MCU显示屏显示图像


🔍 检查清单
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

首次使用:
  □ 选择波特率 (推荐115200)
  □ 确保数据位=8, 校验位=无, 停止位=1
  □ 连接串口 (检查状态灯)
  □ 选择图像
  □ 预览图像
  □ 应用处理
  □ 开始传输

遇到问题:
  □ 启用调试模式
  □ 启用数据显示
  □ 改为"详细"日志级别
  □ 观察日志输出
  □ 下载日志用于分析
  □ 调整波特率/超时/重试

优化性能:
  □ 检查传输速率
  □ 确认NAK计数低
  □ 验证重试次数少
  □ 如需更快 → 检查线路质量


💾 导出功能
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
接收数据 → 下载    → 保存为文本文件
日志    → 下载    → 保存为log_[时间].txt


⌚ 性能指标
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
波特率    | 理论速率  | 61帧传输时间
──────────────────────────────────────
9600      | ~1.2 KB/s | ~15秒
57600     | ~7.2 KB/s | ~2.5秒
115200    | ~14.4KB/s | ~1.3秒 ✓
230400    | ~28.8KB/s | ~0.7秒


🔧 快速命令参考
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

手动发送 START:     55 01 56 AA
手动发送 END:       55 02 57 AA
测试ACK接收:        55 20 00 00 75 AA
测试NAK接收:        55 21 00 00 76 AA


🎓 学习路线
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
新手 → 中级 → 高级 → 专家

1️⃣ 新手 (5分钟)
   └─ 默认参数传输一张图

2️⃣ 中级 (15分钟)
   └─ 尝试不同的图像处理
   └─ 调整二值化阈值

3️⃣ 高级 (30分钟)
   └─ 启用调试模式
   └─ 调整波特率/超时
   └─ 使用剪裁优化

4️⃣ 专家 (持续)
   └─ 深度优化性能
   └─ 编写处理脚本
   └─ 贡献改进方案


💡 Pro 技巧
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✓ 保存常用配置 (浏览器缓存)
✓ 使用剪裁功能只传输需要部分
✓ 对于重复图像，使用Slot 1-7存储不同版本
✓ 启用自动滚动便于监控
✓ 定期下载日志进行性能分析
✓ 使用硬件流控提高可靠性


❌ 常见错误
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✗ 波特率设置不对
✗ 图像未预览或未处理
✗ 超时时间太短
✗ 忘记了Slot ID设置
✗ 调试模式造成性能下降
✗ 日志级别设置太详细


📞 需要帮助?
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1. 查看文档: V3_升级版功能说明.md
2. 对比说明: V2_VS_V3升级版对比.md
3. 启用调试并下载日志
4. 查看日志文件获取详细信息
5. 检查CLAUDE.md中的架构文档


═══════════════════════════════════════════════════════════════════════════
版本: V3 升级版 (新协议V2) | 更新: 2025-10-22 | 兼容: HC32L110C6UA
═══════════════════════════════════════════════════════════════════════════
